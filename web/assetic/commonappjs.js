(function(global){var k,_handlers={},_mods={16:false,18:false,17:false,91:false},_scope="all",_MODIFIERS={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},_MAP={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},code=function(x){return _MAP[x]||x.toUpperCase().charCodeAt(0)},_downKeys=[];for(k=1;k<20;k++)_MAP["f"+k]=111+k;function index(array,item){var i=array.length;while(i--)if(array[i]===item)return i;return-1}function compareArray(a1,a2){if(a1.length!=a2.length)return false;for(var i=0;i<a1.length;i++){if(a1[i]!==a2[i])return false}return true}var modifierMap={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function updateModifierKey(event){for(k in _mods)_mods[k]=event[modifierMap[k]]}function dispatch(event){var key,handler,k,i,modifiersMatch,scope;key=event.keyCode;if(index(_downKeys,key)==-1){_downKeys.push(key)}if(key==93||key==224)key=91;if(key in _mods){_mods[key]=true;for(k in _MODIFIERS)if(_MODIFIERS[k]==key)assignKey[k]=true;return}updateModifierKey(event);if(!assignKey.filter.call(this,event))return;if(!(key in _handlers))return;scope=getScope();for(i=0;i<_handlers[key].length;i++){handler=_handlers[key][i];if(handler.scope==scope||handler.scope=="all"){modifiersMatch=handler.mods.length>0;for(k in _mods)if(!_mods[k]&&index(handler.mods,+k)>-1||_mods[k]&&index(handler.mods,+k)==-1)modifiersMatch=false;if(handler.mods.length==0&&!_mods[16]&&!_mods[18]&&!_mods[17]&&!_mods[91]||modifiersMatch){if(handler.method(event,handler)===false){if(event.preventDefault)event.preventDefault();else event.returnValue=false;if(event.stopPropagation)event.stopPropagation();if(event.cancelBubble)event.cancelBubble=true}}}}}function clearModifier(event){var key=event.keyCode,k,i=index(_downKeys,key);if(i>=0){_downKeys.splice(i,1)}if(key==93||key==224)key=91;if(key in _mods){_mods[key]=false;for(k in _MODIFIERS)if(_MODIFIERS[k]==key)assignKey[k]=false}}function resetModifiers(){for(k in _mods)_mods[k]=false;for(k in _MODIFIERS)assignKey[k]=false}function assignKey(key,scope,method){var keys,mods;keys=getKeys(key);if(method===undefined){method=scope;scope="all"}for(var i=0;i<keys.length;i++){mods=[];key=keys[i].split("+");if(key.length>1){mods=getMods(key);key=[key[key.length-1]]}key=key[0];key=code(key);if(!(key in _handlers))_handlers[key]=[];_handlers[key].push({shortcut:keys[i],scope:scope,method:method,key:keys[i],mods:mods})}}function unbindKey(key,scope){var multipleKeys,keys,mods=[],i,j,obj;multipleKeys=getKeys(key);for(j=0;j<multipleKeys.length;j++){keys=multipleKeys[j].split("+");if(keys.length>1){mods=getMods(keys)}key=keys[keys.length-1];key=code(key);if(scope===undefined){scope=getScope()}if(!_handlers[key]){return}for(i=0;i<_handlers[key].length;i++){obj=_handlers[key][i];if(obj.scope===scope&&compareArray(obj.mods,mods)){_handlers[key][i]={}}}}}function isPressed(keyCode){if(typeof keyCode=="string"){keyCode=code(keyCode)}return index(_downKeys,keyCode)!=-1}function getPressedKeyCodes(){return _downKeys.slice(0)}function filter(event){var tagName=(event.target||event.srcElement).tagName;return!(tagName=="INPUT"||tagName=="SELECT"||tagName=="TEXTAREA")}for(k in _MODIFIERS)assignKey[k]=false;function setScope(scope){_scope=scope||"all"}function getScope(){return _scope||"all"}function deleteScope(scope){var key,handlers,i;for(key in _handlers){handlers=_handlers[key];for(i=0;i<handlers.length;){if(handlers[i].scope===scope)handlers.splice(i,1);else i++}}}function getKeys(key){var keys;key=key.replace(/\s/g,"");keys=key.split(",");if(keys[keys.length-1]==""){keys[keys.length-2]+=","}return keys}function getMods(key){var mods=key.slice(0,key.length-1);for(var mi=0;mi<mods.length;mi++)mods[mi]=_MODIFIERS[mods[mi]];return mods}function addEvent(object,event,method){if(object.addEventListener)object.addEventListener(event,method,false);else if(object.attachEvent)object.attachEvent("on"+event,function(){method(window.event)})}addEvent(document,"keydown",function(event){dispatch(event)});addEvent(document,"keyup",clearModifier);addEvent(window,"focus",resetModifiers);var previousKey=global.key;function noConflict(){var k=global.key;global.key=previousKey;return k}global.key=assignKey;global.key.setScope=setScope;global.key.getScope=getScope;global.key.deleteScope=deleteScope;global.key.filter=filter;global.key.isPressed=isPressed;global.key.getPressedKeyCodes=getPressedKeyCodes;global.key.noConflict=noConflict;global.key.unbind=unbindKey;if(typeof module!=="undefined")module.exports=assignKey})(this);
$(function(){window.Sing={colors:{white:"#fff",black:"#000","gray-light":"#999","gray-lighter":"#eee",gray:"#666","gray-dark":"#343434","gray-darker":"#222","gray-semi-light":"#777","gray-semi-lighter":"#ddd","brand-primary":"#5d8fc2","brand-success":"#64bd63","brand-warning":"#f0b518","brand-danger":"#dd5826","brand-info":"#5dc4bf"},screens:{"xs-max":767,"sm-min":768,"sm-max":991,"md-min":992,"md-max":1199,"lg-min":1200},isScreen:function(size){var screenPx=window.innerWidth;return(screenPx>=this.screens[size+"-min"]||size=="xs")&&(screenPx<=this.screens[size+"-max"]||size=="lg")},getScreenSize:function(){var screenPx=window.innerWidth;if(screenPx<=this.screens["xs-max"])return"xs";if(screenPx>=this.screens["sm-min"]&&screenPx<=this.screens["sm-max"])return"sm";if(screenPx>=this.screens["md-min"]&&screenPx<=this.screens["md-max"])return"md";if(screenPx>=this.screens["lg-min"])return"lg"},changeColor:function(color,ratio,darker){var pad=function(num,totalChars){var pad="0";num=num+"";while(num.length<totalChars){num=pad+num}return num};color=color.replace(/^\s*|\s*$/,"");color=color.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var difference=Math.round(ratio*256)*(darker?-1:1),rgb=color.match(new RegExp("^rgba?\\(\\s*"+"(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])"+"\\s*,\\s*"+"(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])"+"\\s*,\\s*"+"(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])"+"(?:\\s*,\\s*"+"(0|1|0?\\.\\d+))?"+"\\s*\\)$","i")),alpha=!!rgb&&rgb[4]!=null?rgb[4]:null,decimal=!!rgb?[rgb[1],rgb[2],rgb[3]]:color.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(){return parseInt(arguments[1],16)+","+parseInt(arguments[2],16)+","+parseInt(arguments[3],16)}).split(/,/),returnValue;return!!rgb?"rgb"+(alpha!==null?"a":"")+"("+Math[darker?"max":"min"](parseInt(decimal[0],10)+difference,darker?0:255)+", "+Math[darker?"max":"min"](parseInt(decimal[1],10)+difference,darker?0:255)+", "+Math[darker?"max":"min"](parseInt(decimal[2],10)+difference,darker?0:255)+(alpha!==null?", "+alpha:"")+")":["#",pad(Math[darker?"max":"min"](parseInt(decimal[0],10)+difference,darker?0:255).toString(16),2),pad(Math[darker?"max":"min"](parseInt(decimal[1],10)+difference,darker?0:255).toString(16),2),pad(Math[darker?"max":"min"](parseInt(decimal[2],10)+difference,darker?0:255).toString(16),2)].join("")},lighten:function(color,ratio){return this.changeColor(color,ratio,false)},darken:function(color,ratio){return this.changeColor(color,ratio,true)}};var SingSettingsBundle=function(){var defaultSettings={"nav-static":false};this.settingName="sing-app-settings";this._settings=JSON.parse(localStorage.getItem(this.settingName))||defaultSettings};SingSettingsBundle.prototype.save=function(){localStorage.setItem(this.settingName,JSON.stringify(this._settings));return this};SingSettingsBundle.prototype.get=function(key){return this._settings[key]};SingSettingsBundle.prototype.set=function(key,value){this._settings[key]=value;return this};window.SingSettings=new SingSettingsBundle});
key("⌘+f, ctrl+f",function(){$("#search-box").focus();return false});
window.PJAX_ENABLED=true;window.DEBUG=true;$.fn.widgster.Constructor.DEFAULTS.bodySelector=".widget-body";$(function(){var SingAppView=function(){this.pjaxEnabled=window.PJAX_ENABLED;this.debug=window.DEBUG;this.navCollapseTimeout=2500;this.$sidebar=$("#sidebar");this.$content=$("#content");this.$loaderWrap=$(".loader-wrap");this.$navigationStateToggle=$("#nav-state-toggle");this.$navigationCollapseToggle=$("#nav-collapse-toggle");this.settings=window.SingSettings;this.pageLoadCallbacks={};this.resizeCallbacks=[];this.screenSizeCallbacks={xs:{enter:[],exit:[]},sm:{enter:[],exit:[]},md:{enter:[],exit:[]},lg:{enter:[],exit:[]}};this.loading=false;this._resetResizeCallbacks();this._initOnResizeCallbacks();this._initOnScreenSizeCallbacks();this.$sidebar.on("mouseenter",$.proxy(this._sidebarMouseEnter,this));this.$sidebar.on("mouseleave",$.proxy(this._sidebarMouseLeave,this));$(document).on("click",".nav-collapsed #sidebar",$.proxy(this.expandNavigation,this));"ontouchstart"in window&&this.$content.swipe({swipeLeft:$.proxy(this._contentSwipeLeft,this),swipeRight:$.proxy(this._contentSwipeRight,this),threshold:Sing.isScreen("xs")?100:200});this.checkNavigationState();if(this.pjaxEnabled){this.$sidebar.find(".sidebar-nav a:not([data-toggle=collapse], [data-no-pjax], [href=#])").on("click",$.proxy(this._checkLoading,this));$(document).pjax("#sidebar .sidebar-nav a:not([data-toggle=collapse], [data-no-pjax], [href=#])","#content",{fragment:"#content",type:"GET",timeout:4e3});$(document).on("pjax:start",$.proxy(this._changeActiveNavigationItem,this));$(document).on("pjax:start",$.proxy(this._resetResizeCallbacks,this));$(document).on("pjax:send",$.proxy(this.showLoader,this));$(document).on("pjax:success",$.proxy(this._loadScripts,this));$(document).on("sing-app:loaded",$.proxy(this._loadingFinished,this));$(document).on("sing-app:loaded",$.proxy(this._collapseNavIfSmallScreen,this));$(document).on("sing-app:loaded",$.proxy(this.hideLoader,this));$(document).on("pjax:end",$.proxy(this.pageLoaded,this))}this.$navigationStateToggle.on("click",$.proxy(this.toggleNavigationState,this));this.$navigationCollapseToggle.on("click",$.proxy(this.toggleNavigationCollapseState,this));this.$sidebar.find(".collapse").on("show.bs.collapse",function(e){if(e.target!=e.currentTarget)return;var $triggerLink=$(this).prev("[data-toggle=collapse]");$($triggerLink.data("parent")).find(".collapse.in").not($(this)).collapse("hide")}).on("show.bs.collapse",function(e){if(e.target!=e.currentTarget)return;$(this).closest("li").addClass("open")}).on("hide.bs.collapse",function(e){if(e.target!=e.currentTarget)return;$(this).closest("li").removeClass("open")});window.onerror=$.proxy(this._logErrors,this)};SingAppView.prototype._initOnResizeCallbacks=function(){var resizeTimeout,view=this;$(window).on("resize sing-app:content-resize",function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){view._runPageCallbacks(view.pageResizeCallbacks);view.resizeCallbacks.forEach(function(fn){fn()})},100)})};SingAppView.prototype._initOnScreenSizeCallbacks=function(){var resizeTimeout,view=this,prevSize=Sing.getScreenSize();$(window).resize(function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){var size=Sing.getScreenSize();if(size!=prevSize){view.screenSizeCallbacks[prevSize]["exit"].forEach(function(fn){fn(size,prevSize)});view.screenSizeCallbacks[size]["enter"].forEach(function(fn){fn(size,prevSize)});view.log("screen changed. new: "+size+", old: "+prevSize)}prevSize=size},100)})};SingAppView.prototype._resetResizeCallbacks=function(){this.pageResizeCallbacks={}};SingAppView.prototype.checkNavigationState=function(){if(this.isNavigationStatic()){this.staticNavigationState();if(Sing.isScreen("sm")||Sing.isScreen("xs")){this.collapseNavigation()}}else{if(Sing.isScreen("md")||Sing.isScreen("lg")){var view=this;setTimeout(function(){view.collapseNavigation()},this.navCollapseTimeout)}else{this.collapseNavigation()}}};SingAppView.prototype.toggleNavigationCollapseState=function(){if($("body").is(".nav-collapsed")){this.expandNavigation()}else{this.collapseNavigation()}};SingAppView.prototype.collapseNavigation=function(){if(this.isNavigationStatic()&&(Sing.isScreen("md")||Sing.isScreen("lg")))return;$("body").addClass("nav-collapsed");this.$sidebar.find(".collapse.in").collapse("hide").siblings("[data-toggle=collapse]").addClass("collapsed")};SingAppView.prototype.expandNavigation=function(){if(this.isNavigationStatic()&&(Sing.isScreen("md")||Sing.isScreen("lg")))return;$("body").removeClass("nav-collapsed");this.$sidebar.find(".active .active").closest(".collapse").collapse("show").siblings("[data-toggle=collapse]").removeClass("collapsed")};SingAppView.prototype._sidebarMouseEnter=function(){if(Sing.isScreen("md")||Sing.isScreen("lg")){this.expandNavigation()}};SingAppView.prototype._sidebarMouseLeave=function(){if(Sing.isScreen("md")||Sing.isScreen("lg")){this.collapseNavigation()}};SingAppView.prototype._collapseNavIfSmallScreen=function(){if(Sing.isScreen("xs")||Sing.isScreen("sm")){this.collapseNavigation()}};SingAppView.prototype.toggleNavigationState=function(){if(this.isNavigationStatic()){this.collapsingNavigationState()}else{this.staticNavigationState()}$(window).trigger("sing-app:content-resize")};SingAppView.prototype.staticNavigationState=function(){this.settings.set("nav-static",true).save();$("body").addClass("nav-static")};SingAppView.prototype.collapsingNavigationState=function(){this.settings.set("nav-static",false).save();$("body").removeClass("nav-static");this.collapseNavigation()};SingAppView.prototype.isNavigationStatic=function(){return this.settings.get("nav-static")===true};SingAppView.prototype._changeActiveNavigationItem=function(event,xhr,options){var $newActiveLink=this.$sidebar.find('a[href*="'+this.extractPageName(options.url)+'"]').filter(function(){return this.href===options.url});if(!$newActiveLink.is(".active > .collapse > li > a")){this.$sidebar.find(".active .active").closest(".collapse").collapse("hide")}this.$sidebar.find(".active").removeClass("active");$newActiveLink.closest("li").addClass("active").parents("li").addClass("active")};SingAppView.prototype._contentSwipeLeft=function(){if(Sing.isScreen("lg"))return;if(!$("body").is(".nav-collapsed")){this.collapseNavigation()}};SingAppView.prototype._contentSwipeRight=function(){if(Sing.isScreen("lg"))return;if($("body").is(".chat-sidebar-closing"))return;if($("body").is(".nav-collapsed")){this.expandNavigation()}};SingAppView.prototype.showLoader=function(){var view=this;this.showLoaderTimeout=setTimeout(function(){view.$loaderWrap.removeClass("hide");setTimeout(function(){view.$loaderWrap.removeClass("hiding")},0)},200)};SingAppView.prototype.hideLoader=function(){clearTimeout(this.showLoaderTimeout);this.$loaderWrap.addClass("hiding");var view=this;this.$loaderWrap.one($.support.transition.end,function(){view.$loaderWrap.addClass("hide")}).emulateTransitionEnd(200)};SingAppView.prototype.onResize=function(fn,allPages){allPages=typeof allPages!=="undefined"?allPages:false;if(allPages){this.resizeCallbacks.push(fn)}else{this._addPageCallback(this.pageResizeCallbacks,fn)}};SingAppView.prototype.onPageLoad=function(fn){this._addPageCallback(this.pageLoadCallbacks,fn)};SingAppView.prototype.onScreenSize=function(size,fn,onEnter){onEnter=typeof onEnter!=="undefined"?onEnter:true;this.screenSizeCallbacks[size][onEnter?"enter":"exit"].push(fn)};SingAppView.prototype.pageLoaded=function(){this._runPageCallbacks(this.pageLoadCallbacks)};SingAppView.prototype._addPageCallback=function(callbacks,fn){var pageName=this.extractPageName(location.href);if(!callbacks[pageName]){callbacks[pageName]=[]}callbacks[pageName].push(fn)};SingAppView.prototype._runPageCallbacks=function(callbacks){var pageName=this.extractPageName(location.href);if(callbacks[pageName]){callbacks[pageName].forEach(function(fn){fn()})}};SingAppView.prototype._loadScripts=function(event,data,status,xhr,options){var $bodyContents=$($.parseHTML(data.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0],document,true)),$scripts=$bodyContents.filter("script[src]").add($bodyContents.find("script[src]")),$templates=$bodyContents.filter('script[type="text/template"]').add($bodyContents.find('script[type="text/template"]')),$existingScripts=$("script[src]"),$existingTemplates=$('script[type="text/template"]');$templates.each(function(){var id=this.id;var matchedTemplates=$existingTemplates.filter(function(){return this.id===id});if(matchedTemplates.length)return;var script=document.createElement("script");script.id=$(this).attr("id");script.type=$(this).attr("type");script.innerHTML=this.innerHTML;document.body.appendChild(script)});var $previous={load:function(fn){fn()}};$scripts.each(function(){var src=this.src;var matchedScripts=$existingScripts.filter(function(){return this.src===src});if(matchedScripts.length)return;var script=document.createElement("script");script.src=$(this).attr("src");$previous.load(function(){document.body.appendChild(script)});$previous=$(script)});var view=this;$previous.load(function(){$(document).trigger("sing-app:loaded");view.log("scripts loaded.")})};SingAppView.prototype.extractPageName=function(url){var pageName=url.split("#")[0].substring(url.lastIndexOf("/")+1).split("?")[0];return pageName===""?"index.html":pageName};SingAppView.prototype._checkLoading=function(e){var oldLoading=this.loading;this.loading=true;if(oldLoading){this.log("attempt to load page while already loading; preventing.");e.preventDefault()}else{this.log(e.currentTarget.href+" loading started.")}return!oldLoading};SingAppView.prototype._loadingFinished=function(){this.loading=false};SingAppView.prototype._logErrors=function(){var errors=JSON.parse(localStorage.getItem("lb-errors"))||{};errors[(new Date).getTime()]=arguments;localStorage.setItem("sing-errors",JSON.stringify(errors));this.debug&&alert("check errors")};SingAppView.prototype.log=function(message){if(this.debug){console.log("SingApp: "+message+" - "+arguments.callee.caller.toString().slice(0,30).split("\n")[0]+" - "+this.extractPageName(location.href))}};window.SingApp=new SingAppView;initAppPlugins();initAppFunctions();initAppFixes();initDemoFunctions()});function initAppPlugins(){!function($){$.fn.transparentGroupFocus=function(){return this.each(function(){$(this).find(".input-group-addon + .form-control").on("blur focus",function(e){$(this).parents(".input-group")[e.type=="focus"?"addClass":"removeClass"]("focus")})})};$(".input-group-transparent, .input-group-no-border").transparentGroupFocus()}(jQuery);!function($){$(document).on("click change","[data-ajax-load], [data-ajax-trigger^=change]",function(e){var $this=$(this),$target=$($this.data("ajax-target"));if($target.length>0){e=$.Event("ajax-load:start",{originalEvent:e});$this.trigger(e);!e.isDefaultPrevented()&&$target.load($this.data("ajax-load"),function(){$this.trigger("ajax-load:end")})}return false});$(document).on("click","[data-toggle^=button]",function(e){return $(e.target).find("input").data("ajax-trigger")!="change"})}(jQuery);!function($){$(document).on("click","table th [data-check-all]",function(){$(this).closest("table").find("input[type=checkbox]").not(this).prop("checked",$(this).prop("checked"))})}(jQuery);!function($){$.fn.animateProgressBar=function(){return this.each(function(){var $bar=$(this).find(".progress-bar");setTimeout(function(){$bar.css("width",$bar.data("width"))},0)})};$(".js-progress-animate").animateProgressBar()}(jQuery)}function initAppFunctions(){!function($){var $loadNotificationsBtn=$("#load-notifications-btn");$loadNotificationsBtn.on("ajax-load:start",function(e){$loadNotificationsBtn.button("loading")});$loadNotificationsBtn.on("ajax-load:end",function(){$loadNotificationsBtn.button("reset")});function moveNotificationsDropdown(){$(".sidebar-status .dropdown-toggle").after($("#notifications-dropdown-menu").detach())}function moveBackNotificationsDropdown(){$("#notifications-dropdown-toggle").after($("#notifications-dropdown-menu").detach())}SingApp.onScreenSize("xs",moveNotificationsDropdown);SingApp.onScreenSize("xs",moveBackNotificationsDropdown,false);Sing.isScreen("xs")&&moveNotificationsDropdown();$(".sidebar-status").on("show.bs.dropdown",function(){$("#sidebar").css("z-index",2)}).on("hidden.bs.dropdown",function(){$("#sidebar").css("z-index","")});$("#nav-state-toggle, #nav-collapse-toggle").tooltip();function initSidebarScroll(){var $sidebarContent=$(".js-sidebar-content");if($("#sidebar").find(".slimScrollDiv").length!=0){$sidebarContent.slimscroll({destroy:true})}$sidebarContent.slimscroll({height:window.innerHeight,size:"4px"})}SingApp.onResize(initSidebarScroll,true);initSidebarScroll();$(document).on("close.widgster",function(e){var $colWrap=$(e.target).closest('.content > .row > [class*="col-"]:not(.widget-container)');if(!$colWrap.find(".widget").not(e.target).length){$colWrap.remove()}})}(jQuery);!function($){var $chatContainer=$("body").addClass("chat-sidebar-container");$(document).on("click","[data-toggle=chat-sidebar]",function(){$chatContainer.toggleClass("chat-sidebar-opened");$(this).find(".chat-notification-sing").remove()});$("#content").on("swipeLeft",function(e){console.log(arguments);if($("body").is(".nav-collapsed")){$chatContainer.addClass("chat-sidebar-opened")}}).on("swipeRight",function(e){if($("body").is(".nav-collapsed.chat-sidebar-opened")){$chatContainer.removeClass("chat-sidebar-opened").addClass("chat-sidebar-closing").one($.support.transition.end,function(){$("body").removeClass("chat-sidebar-closing")}).emulateTransitionEnd(300)}});$(document).on("click",".chat-sidebar-user-group > a",function(){var $this=$(this),$target=$($this.attr("href")),$targetTitle=$target.find(".title");$this.removeClass("active").find(".badge").remove();$target.addClass("open");$(".chat-sidebar-contacts").removeClass("open");$(".chat-sidebar-footer").addClass("open");$(".message-list",$target).slimscroll({height:$target.height()-$targetTitle.height()-parseInt($targetTitle.css("margin-top"))-parseInt($targetTitle.css("margin-bottom")),width:"",size:"4px"});return false});$(document).on("click",".chat-sidebar-chat .js-back",function(){var $chat=$(this).closest(".chat-sidebar-chat").removeClass("open");var $sidebarContacts=$(".chat-sidebar-contacts").addClass("open");$(".chat-sidebar-footer").removeClass("open");return false});$("#chat-sidebar-input").keyup(function(e){if(e.keyCode!=13)return;var val;if((val=$(this).val().trim())=="")return;var $currentMessageList=$(".chat-sidebar-chat.open .message-list"),$message=$('<li class="message from-me">'+'<span class="thumb-sm"><img class="img-circle" src="img/avatar.png" alt="..."></span>'+'<div class="message-body"></div>'+"</li>");$message.appendTo($currentMessageList).find(".message-body").text(val);$(this).val("")});$("#chat-sidebar-search").keyup(function(){var $contacts=$(".chat-sidebar-contacts.open"),$chat=$(".chat-sidebar-chat.open"),val=$(this).val().trim().toUpperCase();if($contacts.length){$(".chat-sidebar-user-group .list-group-item").addClass("hide").filter(function(){return val==""?true:$(this).find(".message-sender").text().toUpperCase().indexOf(val)!=-1}).removeClass("hide")}if($chat.length){$(".chat-sidebar-chat.open .message-list .message").addClass("hide").filter(function(){return val==""?true:$(this).find(".message-body").text().toUpperCase().indexOf(val)!=-1}).removeClass("hide")}});function initChatSidebarScroll(){var $sidebarContent=$(".chat-sidebar-contacts");if($("#chat").find(".slimScrollDiv").length!=0){$sidebarContent.slimscroll({destroy:true})}$sidebarContent.slimscroll({height:window.innerHeight,width:"",size:"4px"})}SingApp.onResize(initChatSidebarScroll,true);initChatSidebarScroll()}(jQuery)}function initAppFixes(){var isWebkit="WebkitAppearance"in document.documentElement.style;if(isWebkit){}}function initDemoFunctions(){!function($){$("#load-notifications-btn").on("ajax-load:end",function(){setTimeout(function(){$("#notifications-list").find(".bg-attention").removeClass("bg-attention")},1e4)});$("#notifications-toggle").find("input").on("ajax-load:end",function(){$("#notifications-list").find("[data-toggle=tooltip]").tooltip()});$('[data-toggle="chat-sidebar"]').one("click",function(){setTimeout(function(){$(".chat-sidebar-user-group:first-of-type .list-group-item:first-child").addClass("active").find(".fa-circle").after('<span class="badge badge-danger pull-right animated bounceInDown">3</span>')},1e3)});setTimeout(function(){var $chatNotification=$("#chat-notification");$chatNotification.removeClass("hide").addClass("animated fadeIn").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$chatNotification.removeClass("animated fadeIn");setTimeout(function(){$chatNotification.addClass("animated fadeOut").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$chatNotification.addClass("hide")})},4e3)});$chatNotification.siblings('[data-toggle="chat-sidebar"]').append('<i class="chat-notification-sing animated bounceIn"></i>')},4e3)}(jQuery)}